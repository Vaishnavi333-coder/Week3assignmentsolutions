<!doctype html>
<html>
<head><meta charset="utf-8"><title>Delegation Example</title></head>
<body>
    <h3>Adding Events Dynamically in JavaScript</h3>
    <hr/>

    <fieldset>
        <legend>Tasks in my Hand</legend>
    <ul id="list1" style="border:2px solid blue; padding : 30px;">
      <li>Send E-mail <a href="#" class="delete" style="margin-left:10px;color:red;text-decoration:none">Delete</a></li>
      <li>Do Shopping <a href="#" class="delete" style="margin-left:10px;color:red;text-decoration:none">Delete</a></li>
    </ul>

    </fieldset>
  <br/>
  <input  id="t1" placeholder="New Task Info.." type="text"  required/>
  <button id="addButton">Add Task</button>

  <script>

    const listObj = document.getElementById("list1");
    const btnObj = document.getElementById("addButton"); 
    
    listObj.addEventListener("click", function(event)
    {
        // If the clicked element is the delete link, remove its parent <li>
        if (event.target && event.target.matches && event.target.matches('a.delete')) {
            event.preventDefault();
            var li = event.target.closest('li');
            if (li) {
                li.parentNode.removeChild(li);
            }
            return;
        }

        // Otherwise, if an <li> was clicked, toggle its strike-through
        if (event.target && event.target.tagName == "LI") {
          if (event.target.style.textDecoration == "line-through") {
             event.target.style.textDecoration = "none";
          } else {
            event.target.style.textDecoration = "line-through";
          }
        }
    });

  btnObj.addEventListener("click", function(event)
  {
     var textObj = document.getElementById("t1");
     if (textObj.value.trim() === "") {
       alert("Please enter a task!");
       return;
     }

     var listItemObj = document.createElement("LI");
     // Create a text node for the task text so we can append the delete link after it
     listItemObj.appendChild(document.createTextNode(textObj.value));

     // Create delete link and append to the <li>
     var delLink = document.createElement('a');
     delLink.href = '#';
     delLink.className = 'delete';
     delLink.style.marginLeft = '10px';
     delLink.style.color = 'red';
     delLink.style.textDecoration = 'none';
     delLink.innerText = 'Delete';
     listItemObj.appendChild(delLink);

     listObj.appendChild(listItemObj);
     textObj.value = "";
  });
  </script>
</body>
</html>
